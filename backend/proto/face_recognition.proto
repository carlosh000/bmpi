syntax = "proto3";

package face_recognition;

option go_package = "github.com/example/face-attendance/backend/pb;pb";

service FaceRecognitionService {

  rpc RegisterEmployee (RegisterEmployeeRequest) returns (RegisterEmployeeResponse);

  rpc RecognizeFace (RecognizeFaceRequest) returns (RecognizeFaceResponse);

  rpc LogAttendance (AttendanceRequest) returns (AttendanceResponse);

  rpc ListEmployees (ListEmployeesRequest) returns (EmployeeList);
}


message RegisterEmployeeRequest {
  string name = 1;
  string employee_id = 2;
  string location_id = 3;   // ðŸ”¥ NUEVO
  bytes image = 4;
}

message RegisterEmployeeResponse {
  bool success = 1;
  string message = 2;
}

message RecognizeFaceRequest {
  bytes image = 1;
  string location_id = 2;   // ðŸ”¥ NUEVO
}

message RecognizeFaceResponse {
  bool recognized = 1;
  string employee_id = 2;
  float confidence = 3;
  string message = 4;
}

message AttendanceRequest {
  string employee_id = 1;
  string location_id = 2;   // ðŸ”¥ NUEVO
}

message AttendanceResponse {
  bool success = 1;
  string message = 2;
}

message ListEmployeesRequest {
  string location_id = 1;   // ðŸ”¥ NUEVO
}

message Employee {
  string name = 1;
  string employee_id = 2;
  string location_id = 3;   // ðŸ”¥ NUEVO
}

message EmployeeList {
  repeated Employee employees = 1;
}
